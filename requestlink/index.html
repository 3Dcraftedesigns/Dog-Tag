<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dog Tag — Order details</title>
  <meta name="theme-color" content="#10b981" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{ --ink:#0f3d2f; --muted:#6b7d75; --ring:#cfe7dc }
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial}
    .card{border:1px solid #e3eee9; box-shadow:0 1px 0 rgba(16,24,40,.02); border-radius:18px}
    .lbl{font-weight:800; letter-spacing:.02em; color:var(--ink)}
    .hint{font-size:.8rem; color:var(--muted)}
    .input{border:1px solid #d8e7df; border-radius:12px; height:48px}
    .select{appearance:none; background-image:url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 8l4 4 4-4' stroke='%23687973' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:right .8rem center; background-size:20px}
    .btn{background:#10b981; color:#fff; border-radius:12px; font-weight:700; padding:.9rem 1.1rem}
    .btn:active{transform:translateY(1px)}
    .badge{background:#d0f1e4; color:#0f3d2f; border-radius:9999px; padding:.3rem .8rem; font-weight:800}
  </style>
</head>
<body class="min-h-screen bg-emerald-50 text-slate-800">
  <main class="mx-auto max-w-3xl px-5 py-10">
    <header class="text-center mb-6">
      <h1 class="text-5xl font-extrabold tracking-tight text-emerald-900">Welcome!</h1>
      <p class="mt-3 text-emerald-900/80 text-[18px] leading-snug">
        Thanks for ordering a custom NFC dog tag.<br/>
        Please fill this form so <strong>I</strong> can make it exactly right.
      </p>
    </header>

    <section class="card bg-white p-5 md:p-6">
      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <label class="lbl block text-sm mb-2">DOG'S NAME</label>
          <input id="dogName" class="input w-full px-3" placeholder="Type name" />
        </div>

        <div>
          <label class="lbl block text-sm mb-1">BASE COLOR</label>
          <div class="hint -mt-1 mb-1">(where the paw will be printed on)</div>
          <select id="baseColor" class="input select w-full px-3">
            <option value="" selected>Select color</option>
            <option>Pink</option><option>Beige</option><option>Light Brown</option>
            <option>Purple</option><option>Blue</option><option>Brown</option>
            <option>Matte Green</option><option>Silver</option><option>Matte Pink</option>
            <option>Matte Black</option><option>Black</option><option>Matte White</option><option>White</option>
          </select>
        </div>

        <div>
          <label class="lbl block text-sm mb-2">OWNER PHONE</label>
          <input id="ownerPhone" class="input w-full px-3" placeholder="Type phone" />
        </div>

        <div>
          <label class="lbl block text-sm mb-2">PAW COLOR</label>
          <select id="pawColor" class="input select w-full px-3">
            <option value="" selected>Select color</option>
            <option>Pink</option><option>Beige</option><option>Light Brown</option>
            <option>Purple</option><option>Blue</option><option>Brown</option>
            <option>Matte Green</option><option>Silver</option><option>Matte Pink</option>
            <option>Matte Black</option><option>Black</option><option>Matte White</option><option>White</option>
          </select>
        </div>

        <div>
          <label class="lbl block text-sm mb-2">CHIP NUMBER (OPTIONAL)</label>
          <input id="chip" class="input w-full px-3" placeholder="Type chip #" />
        </div>

        <div>
          <label class="lbl block text-sm mb-2">DOG NAME COLOR (BACK)</label>
          <select id="backColor" class="input select w-full px-3">
            <option value="" selected>Select color</option>
            <option>Pink</option><option>Beige</option><option>Light Brown</option>
            <option>Purple</option><option>Blue</option><option>Brown</option>
            <option>Matte Green</option><option>Silver</option><option>Matte Pink</option>
            <option>Matte Black</option><option>Black</option><option>Matte White</option><option>White</option>
          </select>
        </div>

        <div>
          <label class="lbl block text-sm mb-2">SIZE</label>
          <select id="size" class="input select w-full px-3">
            <option value="" selected>Select size</option>
            <option>Small — 29 × 29.4 mm</option>
            <option>Medium — 34.5 × 35 mm</option>
            <option>Big — 38 × 38.5 mm</option>
          </select>
        </div>

        <div>
          <label class="lbl block text-sm mb-2">LETTER TYPE</label>
          <select id="letterType" class="input select w-full px-3">
            <option value="" selected>Select style</option>
            <option value="srisakdi">Srisakdi (script)</option>
            <option value="apple">Apple Symbols (sans)</option>
          </select>
        </div>
      </div>

      <div class="mt-4">
        <label class="lbl block text-sm mb-2">NOTES</label>
        <textarea id="notes" class="input w-full h-32 px-3 py-2" placeholder="Type any special requests here…"></textarea>
      </div>
    </section>

    <section class="card bg-white p-5 md:p-6 mt-6">
      <h3 class="lbl text-lg mb-3">Selected letter type preview</h3>
      <!-- Single image with both examples -->
      <img src="lettertype_comparison.png" alt="Letter type comparison" class="w-full rounded-xl border border-emerald-100" />
    </section>

    <section class="card bg-white p-5 md:p-6 mt-6">
      <div class="flex flex-col md:flex-row items-stretch md:items-center gap-3">
        <button id="makeLink" class="btn w-full md:w-auto">Create shareable link</button>
        <span id="madeNote" class="hidden badge">Link created</span>
      </div>
      <input id="linkOut" class="input w-full px-3 mt-3" placeholder="Your link will appear here…" readonly />
    </section>

    <footer class="mt-6 text-center">
      <a href="https://www.instagram.com/3dcraftedesigns/" target="_blank" rel="noopener noreferrer"
         class="inline-block rounded-full bg-emerald-200/70 px-3 py-1 text-xs font-semibold text-emerald-900 hover:bg-emerald-300 transition">
        3Dcrafteddesigns
      </a>
    </footer>
  </main>

  <script>
    // Serialize form and make a clean shareable URL to your summary page
    function getAnswers(){
      const val = id => document.getElementById(id).value.trim();
      return {
        dogName: val('dogName'),
        ownerPhone: val('ownerPhone'),
        chip: val('chip'),
        baseColor: val('baseColor'),
        pawColor: val('pawColor'),
        backColor: val('backColor'),
        size: val('size'),
        letterType: val('letterType'),
        notes: val('notes')
      };
    }

    function encode(obj){
      return btoa(unescape(encodeURIComponent(JSON.stringify(obj))));
    }

    document.getElementById('makeLink').addEventListener('click', ()=>{
      const ans = getAnswers();
      const payload = encode(ans);

      // Put the answers in localStorage so the summary page can read them
      const KEY = 'dogtag_order_answers';
      localStorage.setItem(KEY, JSON.stringify(ans));

      // Build link to /requestlink/
      const base = location.origin + location.pathname.replace(/\/[^/]*$/, '/');
      const url  = base + 'requestlink/?answers=' + payload;

      document.getElementById('linkOut').value = url;
      document.getElementById('madeNote').classList.remove('hidden');
    });
  </script>
</body>
</html>
