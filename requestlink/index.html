<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dog Tag — Order Details</title>
  <meta name="theme-color" content="#dbece3" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --ink:#0f3b2f; --soft:#e8f4ef; }
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial}
    .hint{font-size:12px;color:#6b7280}
    .badge{background:#c8ecd9;color:#0e5b43}
    .card{background:#fff;border:1px solid #e5e7eb;border-radius:16px}
    .sub{font-size:12px;color:#6b7280;margin-left:8px}
  </style>
</head>
<body class="min-h-screen bg-[#eaf6f1] text-slate-800">
  <main class="mx-auto max-w-3xl px-4 py-8 sm:py-10">
    <header class="text-center">
      <h1 class="text-5xl sm:text-6xl font-extrabold tracking-tight text-[#0f3b2f]">Welcome!</h1>
      <p class="mt-4 text-lg text-[#0f3b2f]/90">Thanks for ordering a custom NFC dog tag.<br />Please fill this form so i can make it exactly right.</p>
    </header>

    <!-- FORM CARD -->
    <section class="card mt-6 p-5 sm:p-6">
      <form id="orderForm" class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-5">
        <!-- Dog name -->
        <div class="sm:col-span-1">
          <label class="block font-extrabold text-[#0f3b2f]">DOG'S NAME</label>
          <input id="dogName" class="mt-2 w-full rounded-xl border border-slate-300 px-3 py-2" placeholder="Type name" />
        </div>

        <!-- Base color -->
        <div class="sm:col-span-1">
          <label class="block font-extrabold text-[#0f3b2f]">BASE COLOR
            <span class="sub">(where the paw will be printed on)</span>
          </label>
          <select id="baseColor" class="mt-2 w-full rounded-xl border border-slate-300 px-3 py-2">
            <option value="" selected>Select color</option>
            <option>Pink</option><option>Beige</option><option>Light Brown</option>
            <option>Purple</option><option>Blue</option><option>Brown</option>
            <option>Matte Green</option><option>Silver</option><option>Matte Pink</option>
            <option>Matte Black</option><option>Black</option><option>Matte White</option><option>White</option>
          </select>
        </div>

        <!-- Owner phone -->
        <div class="sm:col-span-1">
          <label class="block font-extrabold text-[#0f3b2f]">OWNER PHONE</label>
          <input id="ownerPhone" class="mt-2 w-full rounded-xl border border-slate-300 px-3 py-2" placeholder="Type phone" />
        </div>

        <!-- Paw color -->
        <div class="sm:col-span-1">
          <label class="block font-extrabold text-[#0f3b2f]">PAW COLOR</label>
          <select id="pawColor" class="mt-2 w-full rounded-xl border border-slate-300 px-3 py-2">
            <option value="" selected>Select color</option>
            <option>Pink</option><option>Beige</option><option>Light Brown</option>
            <option>Purple</option><option>Blue</option><option>Brown</option>
            <option>Matte Green</option><option>Silver</option><option>Matte Pink</option>
            <option>Matte Black</option><option>Black</option><option>Matte White</option><option>White</option>
          </select>
        </div>

        <!-- Chip -->
        <div class="sm:col-span-1">
          <label class="block font-extrabold text-[#0f3b2f]">CHIP NUMBER (OPTIONAL)</label>
          <input id="chipNumber" class="mt-2 w-full rounded-xl border border-slate-300 px-3 py-2" placeholder="Type chip #" />
        </div>

        <!-- Dog name color (back) -->
        <div class="sm:col-span-1">
          <label class="block font-extrabold text-[#0f3b2f]">DOG NAME COLOR (BACK)</label>
          <select id="backNameColor" class="mt-2 w-full rounded-xl border border-slate-300 px-3 py-2">
            <option value="" selected>Select color</option>
            <option>Pink</option><option>Beige</option><option>Light Brown</option>
            <option>Purple</option><option>Blue</option><option>Brown</option>
            <option>Matte Green</option><option>Silver</option><option>Matte Pink</option>
            <option>Matte Black</option><option>Black</option><option>Matte White</option><option>White</option>
          </select>
        </div>

        <!-- Size -->
        <div class="sm:col-span-1">
          <label class="block font-extrabold text-[#0f3b2f]">SIZE</label>
          <select id="size" class="mt-2 w-full rounded-xl border border-slate-300 px-3 py-2">
            <option value="" selected>Select size</option>
            <option>Small — 29 × 29.4 mm</option>
            <option>Medium — 34.5 × 35 mm</option>
            <option>Big — 38 × 38.5 mm</option>
          </select>
        </div>

        <!-- Letter type -->
        <div class="sm:col-span-1">
          <label class="block font-extrabold text-[#0f3b2f]">LETTER TYPE</label>
          <select id="letterType" class="mt-2 w-full rounded-xl border border-slate-300 px-3 py-2">
            <option value="" selected>Select style</option>
            <option>Apple Symbols (sans)</option>
            <option>Srisakdi (script)</option>
          </select>
        </div>

        <!-- Notes -->
        <div class="sm:col-span-2">
          <label class="block font-extrabold text-[#0f3b2f]">NOTES</label>
          <textarea id="notes" rows="4" class="mt-2 w-full rounded-xl border border-slate-300 px-3 py-2" placeholder="Type any special requests here..."></textarea>
        </div>

        <!-- Selected letter type preview (IMAGE GOES HERE) -->
        <div class="sm:col-span-2">
          <h3 class="text-xl font-extrabold text-[#0f3b2f]">Selected letter type preview</h3>
          <div class="mt-3">
            <!-- Upload letters-preview.png next to this HTML file -->
            <img src="letters-preview.png" alt="Letter type examples"
                 class="w-full rounded-xl border border-slate-200 shadow-sm">
          </div>
        </div>

        <!-- Shareable link area -->
        <div class="sm:col-span-2 mt-2">
          <div class="flex flex-col gap-3 sm:flex-row sm:items-center">
            <button id="makeLink" type="button"
              class="rounded-xl bg-emerald-600 text-white px-5 py-2 font-semibold hover:bg-emerald-700 transition">
              Create shareable link
            </button>
            <input id="shareUrl" class="flex-1 rounded-xl border border-slate-300 px-3 py-2"
                   placeholder="Your link will appear here..." readonly />
          </div>
          <p class="hint mt-2">This link shows a read-only summary of the answers the customer entered.</p>
        </div>
      </form>
    </section>

    <!-- Footer -->
    <footer class="mt-6 text-center">
      <span class="inline-block rounded-full px-4 py-1 badge font-semibold">3Dcrafteddesigns</span>
    </footer>
  </main>

  <script>
    // Build shareable summary link with query params (simple & readable).
    function buildLink() {
      const v = id => document.getElementById(id).value.trim();
      const params = new URLSearchParams({
        dog: v('dogName'),
        phone: v('ownerPhone'),
        chip: v('chipNumber'),
        base: v('baseColor'),
        paw: v('pawColor'),
        back: v('backNameColor'),
        size: v('size'),
        letter: v('letterType'),
        notes: v('notes'),
        summary: '1'
      });
      const url = `${location.origin}${location.pathname}?${params.toString()}`;
      return url;
    }

    document.getElementById('makeLink').addEventListener('click', () => {
      const link = buildLink();
      const out = document.getElementById('shareUrl');
      out.value = link;
      out.focus(); out.select();
    });

    // If summary=1 is present, show a clean read-only summary instead of the form
    (function maybeSummary(){
      const q = new URLSearchParams(location.search);
      if (q.get('summary') !== '1') return;

      const data = {
        "Dog's name": q.get('dog') || '—',
        "Owner phone": q.get('phone') || '—',
        "Chip number": q.get('chip') || '—',
        "Base color": q.get('base') || '—',
        "Paw color": q.get('paw') || '—',
        "Dog name color (back)": q.get('back') || '—',
        "Size": q.get('size') || '—',
        "Letter type": q.get('letter') || '—',
        "Notes": q.get('notes') || '—'
      };

      // Replace main with summary
      const main = document.querySelector('main');
      main.innerHTML = `
        <header class="text-center">
          <h1 class="text-5xl sm:text-6xl font-extrabold tracking-tight text-[#0f3b2f]">Order Summary</h1>
          <p class="mt-4 text-lg text-[#0f3b2f]/90">Read-only view generated from the customer’s form.</p>
        </header>
        <section class="card mt-6 p-5 sm:p-6">
          ${Object.entries(data).map(([k,v])=>`
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 py-2 border-b border-slate-200 last:border-0">
              <div class="font-semibold text-[#0f3b2f]">${k}</div>
              <div class="sm:col-span-2">${(v||'').replace(/</g,'&lt;')}</div>
            </div>`).join('')}
        </section>
        <footer class="mt-6 text-center">
          <span class="inline-block rounded-full px-4 py-1 badge font-semibold">3Dcrafteddesigns</span>
        </footer>
      `;
    })();
  </script>
</body>
</html>
